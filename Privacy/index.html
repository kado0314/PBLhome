<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webã‚«ãƒ¡ãƒ©ç›£è¦–ï¼†ç”»åƒå·®åˆ†é€šçŸ¥</title>
    <link rel="icon" href="https://github.com/kado0314/PBLcamera/blob/main/static/image/kansikameraaikon.png?raw=true" type="image/png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <style>
        .hamburger-menu span {
            transition: all 0.3s ease-in-out;
            transform-origin: center;
        }
        .hamburger-menu.open span:nth-child(1) {
            transform: translateY(10px) rotate(45deg);
        }
        .hamburger-menu.open span:nth-child(2) {
            opacity: 0;
        }
        .hamburger-menu.open span:nth-child(3) {
            transform: translateY(-10px) rotate(-45deg);
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen relative overflow-x-hidden font-sans">

    <div class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-indigo-700 rounded-full blur-[100px] opacity-20 -z-10 pointer-events-none"></div>

    <div class="hamburger-menu fixed top-5 left-5 w-8 h-6 cursor-pointer z-[5000] flex flex-col justify-between" id="hamburgerMenu">
        <span class="block w-full h-[3px] bg-white rounded"></span>
        <span class="block w-full h-[3px] bg-white rounded"></span>
        <span class="block w-full h-[3px] bg-white rounded"></span>
    </div>

    <nav class="sidebar fixed top-0 left-0 w-64 h-full bg-gray-900/95 backdrop-blur-md border-r border-white/10 z-[4000] pt-20 -translate-x-full transition-transform duration-300" id="sidebar">
        <ul>
            <li>
                <a href="/" class="flex items-center px-6 py-4 text-lg text-white hover:bg-white/10 transition-colors border-b border-white/10">
                    <div style="width:40px; text-align:center;"><i class="fa-solid fa-house fa-lg"></i></div>
                    <span class="ml-2 font-bold">ãƒ›ãƒ¼ãƒ </span>
                </a>
            </li>
            <li>
                <a href="/scoring/saiten" class="flex items-center px-6 py-4 text-lg text-white hover:bg-white/10 transition-colors border-b border-white/10">
                    <div style="width:40px; text-align:center;"><i class="fa-solid fa-shirt fa-lg text-pink-500"></i></div>
                    <span class="ml-2 font-bold">ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³æ¡ç‚¹</span>
                </a>
            </li>
            <li>
                <a href="/Typamera/templates/typing.html" class="flex items-center px-6 py-4 text-lg text-white hover:bg-white/10 transition-colors border-b border-white/10">
                    <div style="width:40px; text-align:center;"><i class="fa-solid fa-keyboard fa-lg text-amber-400"></i></div>
                    <span class="ml-2 font-bold">ã‚¿ã‚¤ãƒ”ãƒ³ã‚°</span>
                </a>
            </li>
            </ul>
    </nav>
    
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <h1 class="text-3xl md:text-4xl font-extrabold mb-8 text-indigo-400 drop-shadow-lg text-center md:text-left ml-0 md:ml-12 border-b border-indigo-500/30 pb-4 inline-block">
            <i class="fa-solid fa-user-shield mr-3"></i><span class="whitespace-nowrap">Webã‚«ãƒ¡ãƒ©ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ </span>
        </h1>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
            <div class="lg:col-span-4 bg-gray-800/60 backdrop-blur-md border border-white/10 rounded-2xl p-6 shadow-xl order-2 lg:order-1">
                <div class="flex gap-2 mb-6">
                    <button id="startButton" class="flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white font-bold py-3 px-4 rounded-lg shadow transition transform hover:-translate-y-1">
                        <i class="fa-solid fa-play mr-2"></i>é–‹å§‹
                    </button>
                    <button id="stopButton" disabled class="flex-1 bg-gray-600 text-gray-400 font-bold py-3 px-4 rounded-lg shadow transition cursor-not-allowed disabled:opacity-50">
                        <i class="fa-solid fa-stop mr-2"></i>åœæ­¢
                    </button>
                </div>
                <div class="space-y-4">
                    <div class="setting">
                        <label class="block text-gray-400 text-sm font-bold mb-2">é€šçŸ¥ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ (ç§’)</label>
                        <input type="number" id="cooldownTimeSec" min="1" max="600" value="5" 
                               class="w-full bg-gray-900 border border-gray-600 text-white p-2 rounded focus:border-indigo-500 focus:outline-none text-center font-mono">
                    </div>
                    <div class="setting">
                        <label class="block text-gray-400 text-sm font-bold mb-2">æ„Ÿåº¦ãƒ¬ãƒ™ãƒ«: <span id="thresholdValue" class="text-indigo-400">50</span></label>
                        <input type="range" id="thresholdSlider" min="0" max="200" value="50" class="w-full accent-indigo-500">
                    </div>
                    <div class="setting">
                        <label class="block text-gray-400 text-sm font-bold mb-2">é€šçŸ¥ã‚¿ã‚¤ãƒˆãƒ«</label>
                        <input type="text" id="notificationTitle" value="ğŸš¨ å‹•ãã‚’æ¤œå‡ºã—ã¾ã—ãŸï¼" 
                               class="w-full bg-gray-900 border border-gray-600 text-white p-2 rounded focus:border-indigo-500 focus:outline-none">
                    </div>
                    <div class="setting">
                        <label class="block text-gray-400 text-sm font-bold mb-2">é€šçŸ¥æœ¬æ–‡</label>
                        <input type="text" id="notificationBody" value="ç”»é¢ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚" 
                               class="w-full bg-gray-900 border border-gray-600 text-white p-2 rounded focus:border-indigo-500 focus:outline-none">
                    </div>
                    <div class="setting">
                        <label class="block text-gray-400 text-sm font-bold mb-2">é€šçŸ¥URL</label>
                        <input type="url" id="notificationUrl" value="https://www.google.com/" placeholder="URLã‚’å…¥åŠ›" 
                               class="w-full bg-gray-900 border border-gray-600 text-white p-2 rounded focus:border-indigo-500 focus:outline-none">
                    </div>
                    <div class="setting pt-4 border-t border-gray-700">
                        <label class="block text-gray-400 text-sm font-bold mb-2">é€šçŸ¥ã‚¯ãƒªãƒƒã‚¯æ™‚ã®å‹•ä½œ</label>
                        <div class="flex flex-col gap-2">
                            <label class="inline-flex items-center cursor-pointer">
                                <input type="radio" id="openTab" name="openAction" value="tab" checked class="text-indigo-500 focus:ring-indigo-500">
                                <span class="ml-2 text-sm">æ–°ã—ã„ã‚¿ãƒ–ã§é–‹ã</span>
                            </label>
                            <label class="inline-flex items-center cursor-pointer">
                                <input type="radio" id="openWindow" name="openAction" value="window" class="text-indigo-500 focus:ring-indigo-500">
                                <span class="ml-2 text-sm">æ–°ã—ã„ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§é–‹ã</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div id="statusDisplay" class="mt-6 p-4 rounded-lg bg-gray-900 border-2 border-gray-700 text-center font-bold text-gray-400 transition-colors">
                    ç›£è¦–åœæ­¢ä¸­ã§ã™
                </div>
            </div>
            
            <div class="lg:col-span-8 order-1 lg:order-2 space-y-6">
                <div class="visual-container relative rounded-xl overflow-hidden border-2 border-indigo-500/50 shadow-2xl bg-black">
                    <video id="webcamVideo" class="w-full h-auto block" autoplay muted></video>
                    <canvas id="processingCanvas" class="hidden"></canvas>
                    <div class="absolute top-4 right-4 flex items-center gap-2 bg-black/60 px-3 py-1 rounded-full">
                        <div id="recDot" class="w-3 h-3 rounded-full bg-red-500 animate-pulse hidden"></div>
                        <span class="text-xs font-mono text-white/80">LIVE</span>
                    </div>
                </div>
                <div id="chartContainer" class="bg-gray-800/60 backdrop-blur-md border border-white/10 rounded-xl p-4 h-64 shadow-lg">
                    <h2 class="text-sm font-bold text-indigo-300 mb-2 border-b border-white/5 pb-2">ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¤‰åŒ–ãƒ¬ãƒ™ãƒ«</h2>
                    <div class="h-48">
                        <canvas id="changeChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="main.js"></script>

    <script>
        const hamburger = document.getElementById('hamburgerMenu');
        const sidebar = document.getElementById('sidebar');

        hamburger.addEventListener('click', () => {
            sidebar.classList.toggle('-translate-x-full');
            hamburger.classList.toggle('open');
        });
    </script>
</body>
</html>
